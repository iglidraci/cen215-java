bool nearlyEqual(float a, float b):
    float absA = abs(a)
    float absB = abs(b)
    float diff = abs(a-b)
    if a == b:
        return true
    else if (a == 0 || b == 0 || (absA+absB < Float.MIN_VALUE)):
        return dif < epsilon*Float.MIN_VALUE
    else:
        return diff / min((absA+absB), Float.MAX_VALUE) < epsilon;